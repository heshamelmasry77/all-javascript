<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>3</title>

    <script>
        // ### Задача 3. 
        // Создайте декоратор makeLogging(f, log), который принимает в качестве аргумента функцию f и массив log. Он должен возвращать обёртку вокруг f, которая при каждом вызове записывает («логирует») аргументы в log, а затем передает вызов в f. В этой задаче можно считать, что у функции f ровно один аргумент. Работать должно так:

        // function work(a) {
        //   /* ... */ // work - произвольная функция, один аргумент
        // }

        // function makeLogging(f, log) { /* ваш код */ }

        // var log = [];
        // work = makeLogging(work, log);

        // work(1); // 1, добавлено в log
        // work(5); // 5, добавлено в log

        // for (var i = 0; i < log.length; i++) {
        //   alert( 'Лог:' + log[i] ); // "Лог:1", затем "Лог:5"
        // }

        function work(a) {
            return a * 2;
        }

        function makeLogging(f, log) {

            function decorator(arg) {
                log.push(arg);
                alert(f.call(this, arg)); // ???
            }

            return decorator;
        }

        var log = [];
        work = makeLogging(work, log);

        work(1);
        work(5);

        for (var i = 0; i < log.length; i++) {
            alert('Лог: ' + log[i]);
        }
    </script>

</head>
<body>
    <p>Lesson 4 Homework Task 3</p>
</body>
</html>