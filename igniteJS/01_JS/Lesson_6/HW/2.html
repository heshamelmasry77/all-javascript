<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>L6 HW T2</title>
</head>
<body>
    <p>Lesson 6 Homework Task 2</p>
    
    <div>Это</div>
    <div>Элементы</div>

    <script>
        // ### Задача 2
        // Напишите функцию insertAfter(elem, refElem), которая добавит elem после узла refElem.

        window.onload = function() {
            var elem = document.createElement('div');
            elem.innerHTML = '<b>Новый элемент</b>';

            function insertAfter(elem, refElem) {
                var parent = refElem.parentNode;
                var next = refElem.nextSibling;

                if (next) {
                    return parent.insertBefore(elem, next);
                } else {
                    return parent.appendChild(elem);
                }
            }

            var body = document.body;

            // вставить elem после первого элемента
            insertAfter(elem, body.firstChild); // <--- должно работать

            elem  = elem.cloneNode(true);

            // вставить elem за последним элементом
            insertAfter(elem, body.lastChild); // <--- должно работать
        }
    </script>
</body>
</html>